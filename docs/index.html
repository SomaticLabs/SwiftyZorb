<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MomentSDK  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="MomentSDK  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">MomentSDK Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/SomaticLabs/SwiftMomentSDK"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">MomentSDK Reference</a>
        <img id="carat" src="img/carat.png" />
        MomentSDK  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9MomentSDK7connectERR">connect(completion:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9MomentSDK10disconnectFT_T_">disconnect()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9MomentSDK6forgetFT_T_">forget()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9MomentSDK13writeContentsERR">writeContents(of:optimize:completion:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9MomentSDK11writeScriptERR">writeScript(at:optimize:completion:)</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="docs/images/moment.png" alt="Moment Logo"></p>
<a href='#swiftmomentsdk' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='swiftmomentsdk'>SwiftMomentSDK</h1>

<p><em>iOS development kit for <a href="https://wearmoment.com">Moment</a></em></p>

<p><a href="https://github.com/SomaticLabs/SwiftMomentSDK/blob/master/LICENSE"><img src="https://img.shields.io/github/license/mashape/apistatus.svg" alt="license"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage Compatible"></a>
<a href="http://twitter.com/SomaticLabs"><img src="https://img.shields.io/badge/twitter-@SomaticLabs-orange.svg?style=flat" alt="Twitter"></a></p>
<a href='#about' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='about'>About</h2>

<p>The SwiftMomentSDK allows developers to build iOS applications that communicate with Moment, the first wearable that communicates entirely through your sense of touch. </p>

<p>This library is made to be used in conjuction with our <a href="https://github.com/somaticlabs/moment-sdk">embedded Javascript SDK</a>.</p>

<p>To get started developing your own haptic animations, check out our <a href="https://somaticlabs.github.io/moment-sim/">Moment simulator</a>.</p>

<p><img src="docs/images/sim.png" alt="Moment Simulator"></p>

<p>Animations and programs created in the simulator can be ran on Moment using this library, either by sending a embedding the Javascript directly in your application or by storing your scripts in <a href="https://gist.github.com">Github Gists</a> and referencing those in your applications. </p>

<p>For more information regarding using the Moment Javascript SDK, please refer to our <a href="https://somaticlabs.github.io/moment-sdk/">documentation</a>.</p>
<a href='#requirements' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='requirements'>Requirements</h2>

<ul>
<li>iOS 9.0+</li>
<li>Xcode 8.1+</li>
<li>Swift 3.0+</li>
</ul>
<a href='#troubleshooting-amp-contributions' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='troubleshooting-amp-contributions'>Troubleshooting &amp; Contributions</h2>

<ul>
<li>If you <strong>need help</strong>, use our <a href="https://talk.wearmoment.com">discussion forum</a> or <a href="mailto:developers@somaticlabs.io">send us an email</a>.</li>
<li>If you&rsquo;d like to <strong>ask a general question</strong>, use our <a href="https://talk.wearmoment.com">discussion forum</a> or <a href="mailto:developers@somaticlabs.io">send us an email</a>.</li>
<li>If you <strong>found a bug</strong>, open an issue.</li>
<li>If you <strong>have a feature request</strong>, open an issue.</li>
<li>If you <strong>want to contribute</strong>, submit a pull request.</li>
</ul>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>
<a href='#carthage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='carthage'>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>brew update
<span class="gp">$ </span>brew install carthage
</code></pre>

<p>To integrate SwiftMomentSDK into your Xcode project using Carthage, specify it in your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "SomaticLabs/SwiftMomentSDK" ~&gt; 1.0
</code></pre>

<p>Run <code>carthage update</code> to build the framework and drag the built <code>MomentSDK.framework</code> into your Xcode project.</p>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='usage'>Usage</h2>
<a href='#connecting' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='connecting'>Connecting</h3>

<p>Before being able to communicate with Moment, you must establish a Bluetooth LE connection with your device.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MomentSDK</span>

<span class="kt">Moment</span><span class="o">.</span><span class="n">connect</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
  <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
    <span class="c1">// Connected succeeded</span>
  <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
    <span class="c1">// An error occurred during connection</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>If you would like to trigger a manual disconnect, you can do so like this:</p>
<pre class="highlight swift"><code><span class="kt">Moment</span><span class="o">.</span><span class="nf">disconnect</span><span class="p">()</span>
</code></pre>

<p>After connecting to a device for the first time, the SwiftMomentSDK saves a reference to that device for quicker reconnection in the future. If you would like to connect to a new device, you must forget the old connection.</p>
<pre class="highlight swift"><code><span class="kt">Moment</span><span class="o">.</span><span class="nf">forget</span><span class="p">()</span>
</code></pre>

<p>Note that simply disconnecting from the device will not forget a stored connection and, likewise, forgetting a connection will not force a disconnect.</p>
<a href='#sending-javascript' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='sending-javascript'>Sending Javascript</h3>

<p>There are two ways to send Javascript to Moment to be executed on the device—by embedding it as a <code>String</code> in your application, or by passing a <code>URL</code> to a <a href="https://gist.github.com">Github Gist</a> that contains your code.</p>

<p>Additionally, the SwiftMomentSDK provides the option to optimize your Javascript using the <a href="https://developers.google.com/closure/compiler/">Google Closure Compiler</a> before sending it to Moment. This is valuable because it highly compresses the number of bytes that need to be sent to Moment over BLE, dramatically decreasing the transmission time. This is especially important for longer scripts. </p>

<p>By default optimization is turned on, but this can be overridden if your Javascript is already optimized and you would like to prevent the additional HTTP request.</p>

<p>To send Javascript from a script saved in a Gist:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://gist.github.com/jakerockland/1de44467c3eaf132a2089b6c88d680b8"</span><span class="p">)</span><span class="o">!</span>
<span class="kt">Moment</span><span class="o">.</span><span class="nf">writeScript</span><span class="p">(</span><span class="n">at</span> <span class="n">url</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
  <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
    <span class="c1">// Write succeeded</span>
  <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
    <span class="c1">// An error occurred during write</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>To send Javascript from a <code>String</code> in your application:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">javascript</span> <span class="o">=</span> <span class="s">"Moment.LED.setColor(Moment.Color.ORANGE);"</span>
<span class="kt">Moment</span><span class="o">.</span><span class="nf">writeContents</span><span class="p">(</span><span class="n">of</span> <span class="n">javascript</span><span class="p">,</span> <span class="nv">optimize</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
  <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
    <span class="c1">// Write succeeded</span>
  <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
    <span class="c1">// An error occurred during write</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>The SwiftMomentSDK is released under the <a href="https://github.com/SomaticLabs/SwiftMomentSDK/blob/master/LICENSE">MIT license</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://wearmoment.com" target="_blank" rel="external">Somatic Labs</a>. All rights reserved. (Last updated: 2017-02-23)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
